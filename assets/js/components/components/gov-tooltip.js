import{p as i,H as t,h as s,d as o}from"./p-2dee9951.js";import{v as e}from"./p-dcb5fb35.js";import{T as h,a as n,b as a,c as r,d as c}from"./p-9a4c910d.js";import{c as p}from"./p-24636c53.js";import{g as l}from"./p-28e59384.js";const f='.gov-spin-animation,.gov-pseudo-spin-animation::before{animation:spin 4s linear infinite}@keyframes spin{100%{transform:rotate(360deg)}}@keyframes countdown{to{transform:scaleX(0)}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes pulse{0%{opacity:1}50%{opacity:0.4}100%{opacity:1}}.gov-tooltip{display:inline-block;border-bottom:1px dashed currentcolor;color:var(--gov-color-primary);cursor:help}.gov-tooltip[icon=""],.gov-tooltip[icon=true i],.gov-tooltip[icon="1"]{border-bottom:0}';const d=i(class i extends t{constructor(){super();this.__registerHost();this.tooltipContentId=undefined;this.tooltipId=undefined;this.variant=h.PRIMARY;this.size=n._M;this.position="right";this.message=undefined;this.identifier=undefined;this.icon=undefined;this.persist=false;this.h=l(this.host);this.tooltipId=p("GovTooltip");this.tooltipContentId=p("GovContentTooltip")}validateVariant(i){e(h,i,c.root)}validateSize(i){e(n,i,c.root)}validatePosition(i){e(r,i,c.root)}componentWillLoad(){this.validateVariant(this.variant);this.validateSize(this.size);this.validatePosition(this.position);this.createContentWrapper();this.registerListeners()}disconnectedCallback(){this.removeContent()}createContentWrapper(){var i;const t=this.host.querySelector(a.root);if(t){this.content=t}else{this.content=document.createElement(a.root);this.content.innerHTML=this.message;this.host.appendChild(this.content)}const s=this.host.getBoundingClientRect();this.content.style.left=s.left+"px";this.content.style.top=s.top+"px";this.content.style.visibility="hidden";this.content.setAttribute("id",(i=this.identifier)!==null&&i!==void 0?i:this.tooltipContentId);this.content.setAttribute("parent-id",this.tooltipId);this.content.setAttribute("variant",this.variant);this.content.setAttribute("size",this.size);document.body.appendChild(this.content)}registerListeners(){this.host.addEventListener("click",(i=>{i.preventDefault();this.persist=true;if(this.content){this.content.setAttribute("persist","true")}this.showTooltip()}));this.host.addEventListener("focus",(i=>{i.preventDefault();this.showTooltip()}));this.host.addEventListener("blur",(i=>{i.preventDefault();if(this.persist===false){this.hideTooltip()}}));this.host.addEventListener("mouseenter",(i=>{i.preventDefault();this.showTooltip()}));this.host.addEventListener("mouseleave",(i=>{i.preventDefault();if(this.persist===false){this.hideTooltip()}}))}verifyPositionSpace(){const i=12;const t=window.innerWidth;const s=this.host.getBoundingClientRect();const o=this.host.offsetWidth;const e=this.host.offsetHeight;const h=this.content.offsetWidth;const n=this.content.offsetHeight;const a={left:s.left+document.documentElement.scrollLeft,top:s.top+document.documentElement.scrollTop};const c=a.left+i+s.width+h<=t;const p=a.left>h;if(this.position===r.LEFT||this.position===r.RIGHT){this.content.style.top=a.top-(n-e)/2+"px";if(c===false&&p===false){this.position=r.TOP;this.content.setAttribute("position",r.TOP)}if(p&&c===false&&this.position===r.RIGHT){this.position=r.LEFT}if(c&&p===false&&this.position===r.LEFT){this.position=r.RIGHT}}if(this.position===r.RIGHT){this.content.setAttribute("position",r.RIGHT);this.content.style.left=a.left+i+s.width+"px"}if(this.position===r.LEFT){this.content.setAttribute("position",r.LEFT);this.content.style.left=a.left-(h+i)+"px"}if(this.position===r.TOP||this.position===r.BOTTOM){if(h>o){let s=a.left-(h-o)/2;const e=s<0;const n=s+h>t;if(e&&n){this.content.style.width="auto";this.content.style.left=i+"px";this.content.style.right=i+"px"}else{if(e){s=i}if(n){s=s-(t-(s+h+i))*-1}this.content.style.left=s+"px"}}else{const i=a.left+(o-h)/2;this.content.style.left=i+"px"}}if(this.position===r.TOP){this.content.setAttribute("position",r.TOP);this.content.style.top=a.top-(n+i)+"px"}if(this.position===r.BOTTOM){this.content.setAttribute("position",r.BOTTOM);this.content.style.top=a.top+(e+i)+"px"}this.content.setAttribute("is-visible","true");this.content.style.opacity="1"}showTooltip(){if(this.content){this.content.style.opacity="0";this.content.hidden=false;this.verifyPositionSpace()}}hideTooltip(){if(this.content){this.content.setAttribute("is-visible","false");this.content.setAttribute("persist","false")}}removeContent(){const i=document.getElementById(this.tooltipContentId);if(i){i.remove()}}render(){var i;return s(o,{id:this.tooltipId,class:this.h.classes(c.root),position:this.position,tabindex:0,"aria-describedby":(i=this.identifier)!==null&&i!==void 0?i:this.tooltipContentId},s("slot",null))}async show(){this.showTooltip()}async hide(){this.persist=false;this.hideTooltip()}get host(){return this}static get watchers(){return{variant:["validateVariant"],size:["validateSize"],position:["validatePosition"]}}static get style(){return f}},[4,"gov-tooltip",{variant:[1],size:[1],position:[1025],message:[1],identifier:[1],icon:[516],persist:[32],show:[64],hide:[64]}]);function u(){if(typeof customElements==="undefined"){return}const i=["gov-tooltip"];i.forEach((i=>{switch(i){case"gov-tooltip":if(!customElements.get(i)){customElements.define(i,d)}break}}))}u();const m=d;const v=u;export{m as GovTooltip,v as defineCustomElement};
//# sourceMappingURL=gov-tooltip.js.map